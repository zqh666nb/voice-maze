<!DOCTYPE html>
<html>

<head>
    <title>语音迷宫游戏</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <!-- Flask模板语法：引用静态CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='game.css') }}">
</head>

<body>
    <!-- 主菜单 -->
    <div id="mainMenu">
        <h1>语音迷宫游戏</h1>
        <button class="menuBtn" id="startGameBtn">开始游戏</button>
        <button class="menuBtn" id="instructionsBtn">游戏说明</button>
    </div>

    <!-- 游戏容器 -->
    <div id="gameContainer">
        <div id="timer">剩余时间: ??? 秒</div>
        <div id="voiceOutput" style="margin-bottom:10px;color:#2196F3;font-weight:bold;"></div>
        <canvas id="maze" width="???" height="???"></canvas>
        <div id="status">等待指令中...</div>
    </div>

    <!-- 游戏说明弹窗 -->
    <div id="instructionsModal">
        <span class="closeBtn">×</span>
        <h2>游戏说明</h2>
        <h3>操作指令：</h3>
        <ul>
            <li>前进 / 上</li>
            <li>后退 / 下</li>
            <li>左转 / 左</li>
            <li>右转 / 右</li>
            <li>扫描周围 - 查看当前格子四周是否有墙、机关或物品</li>
            <li>踩下机关 - 启动当前格子上的机关，可能打开隐藏通道或触发事件</li>
            <li>停止 - 暂停动作或清除语音输入</li>
        </ul>
        <h3>游戏规则：</h3>
        <p>在60秒内通过语音指令控制机器人走出迷宫！</p>
        <p>每次输入一次语音后，机器人会移动一个单元格！语音输入间隔大致为0.5s！！</p>
        <p>注意避开墙壁，遇到死路可以说"后退"</p>
    </div>

    <!-- Flask模板语法：引用音效 -->
    <audio id="clickSound" src="{{ url_for('static', filename='click.mp3') }}" preload="auto"></audio>

    <!-- Flask模板语法：引用JS -->
    <script src="{{ url_for('static', filename='game.js') }}"></script>
</body>

</html>